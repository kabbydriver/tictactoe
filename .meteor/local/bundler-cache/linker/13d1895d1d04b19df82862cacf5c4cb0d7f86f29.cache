[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nDate = Package['es5-shim'].Date;\nparseInt = Package['es5-shim'].parseInt;\nECMAScript = Package.ecmascript.ECMAScript;\nFlowRouter = Package['kadira:flow-router'].FlowRouter;\nMeteor = Package.meteor.Meteor;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nbabelHelpers = Package['babel-runtime'].babelHelpers;\nPromise = Package.promise.Promise;\nMap = Package['ecmascript-collections'].Map;\nSet = Package['ecmascript-collections'].Set;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"(function(){\n\n/////////////////////////////////////////////////////////////////////////\n//                                                                     //\n// tictactoe.js                                                        //\n//                                                                     //\n/////////////////////////////////////////////////////////////////////////\n                                                                       //\nvar Table = new Mongo.Collection(\"table\");                             // 1\nvar Counter = new Mongo.Collection(\"counter\");                         // 2\nvar Turn = new Mongo.Collection(\"turn\");                               // 3\n                                                                       //\nif (Meteor.isClient) {                                                 // 5\n  // counter starts at 0                                               //\n  Session.setDefault('counter', 0);                                    // 7\n                                                                       //\n  Template.board.helpers({                                             // 10\n    rows: function () {                                                // 11\n      return Table.find({});                                           // 12\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  Template.row.helpers({                                               // 16\n    columns: function (parentContext) {                                // 17\n      return this.cols;                                                // 18\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  Template.row.events({                                                // 22\n    'click td': function (event, template) {                           // 23\n      var row = Table.findOne(template.data._id);                      // 24\n      var cols = row.cols;                                             // 25\n                                                                       //\n      var mark = cols[this.col - 1].playerMark;                        // 27\n      mark = (mark + 1) % 3;                                           // 28\n      cols[this.col - 1].playerMark = mark;                            // 29\n                                                                       //\n      Table.update(template.data._id, { $set: { cols: cols } });       // 31\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  Template.cell.helpers({                                              // 35\n    getImage: function () {                                            // 36\n      if (this.playerMark == 0) {                                      // 37\n        return '';                                                     // 38\n      } else if (this.playerMark == 1) {                               //\n        return 'X';                                                    // 40\n      } else {                                                         //\n        return 'O';                                                    // 42\n      }                                                                //\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  Template.reset.events({                                              // 47\n    'click button': function () {                                      // 48\n      var countDoc = Counter.findOne({});                              // 49\n      Table.find({}).forEach(function (doc) {                          // 50\n        var cols = doc.cols;                                           // 51\n        cols.forEach(function (cell) {                                 // 52\n          cell.playerMark = 0;                                         // 53\n          Table.update(doc._id, { $set: { cols: cols } });             // 54\n        });                                                            //\n      });                                                              //\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  Template.gameStatus.helpers({                                        // 60\n    whoseTurn: function () {                                           // 61\n      var turn = Turn.findOne();                                       // 62\n    }                                                                  //\n  });                                                                  //\n                                                                       //\n  Template.registerHelper('getPlayer', function () {                   // 66\n    return Session.get('player');                                      // 67\n  });                                                                  //\n}                                                                      //\n                                                                       //\nif (Meteor.isServer) {                                                 // 72\n  Meteor.startup(function () {                                         // 73\n    // code to run on server at startup                                //\n  });                                                                  //\n}                                                                      //\n                                                                       //\nFlowRouter.route('/player1', {                                         // 78\n  action: function () {                                                // 79\n    Session.set('player', 1);                                          // 80\n  }                                                                    //\n});                                                                    //\n                                                                       //\nFlowRouter.route('/player2', {                                         // 84\n  action: function () {                                                // 85\n    Session.set('player', 2);                                          // 86\n  }                                                                    //\n});                                                                    //\n/////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n","servePath":"/tictactoe.js","sourceMap":{"version":3,"sources":["meteor://ðŸ’»app/tictactoe.js"],"names":[],"mappings":"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","file":"/tictactoe.js","sourcesContent":["var Table = new Mongo.Collection(\"table\");\nvar Counter = new Mongo.Collection(\"counter\");\nvar Turn = new Mongo.Collection(\"turn\");\n\nif (Meteor.isClient) {\n  // counter starts at 0\n  Session.setDefault('counter', 0);\n\n\n  Template.board.helpers({\n  \trows: function() {\n  \t\treturn Table.find({});\t\t\t\n  \t}\n  });\n\n  Template.row.helpers({\n  \tcolumns: function(parentContext) {\n  \t\treturn this.cols;\n  \t}\n  });\n\n  Template.row.events({\n  \t'click td': function(event, template) {\n  \t\tvar row = Table.findOne(template.data._id);\n  \t\tvar cols = row.cols\n\n  \t\tvar mark = cols[this.col-1].playerMark;\n  \t\tmark = (mark+1)%3\n  \t\tcols[this.col-1].playerMark = mark;\n\n  \t\tTable.update(template.data._id, {$set: {cols: cols}});\n  \t}\n  });\n\n  Template.cell.helpers({\n  \tgetImage: function() {\n  \t\tif (this.playerMark == 0) {\n  \t\t\treturn '';\n  \t\t} else if (this.playerMark == 1) {\n  \t\t\treturn 'X';\n  \t\t} else {\n  \t\t\treturn 'O';\n  \t\t}\n  \t}\n  });\n\n  Template.reset.events({\n  \t'click button': function() {\n  \t\tvar countDoc = Counter.findOne({});\n  \t\tTable.find({}).forEach(function (doc) {\n  \t\t\tvar cols = doc.cols\n  \t\t\tcols.forEach(function(cell) {\n  \t\t\t\tcell.playerMark = 0;\n  \t\t\t\tTable.update(doc._id, {$set: {cols: cols}});\n  \t\t\t});\n  \t\t});\n  \t}\n  });\n\n  Template.gameStatus.helpers({\n  \twhoseTurn: function() {\n  \t\tvar turn = Turn.findOne();\n  \t}\n  });\n\n  Template.registerHelper('getPlayer', function(){\n  \treturn Session.get('player');\n  });\n\n}\n\nif (Meteor.isServer) {\n\tMeteor.startup(function () {\n    // code to run on server at startup\n\t});\n}\n\nFlowRouter.route('/player1', { \n  action: function() { \n    Session.set('player', 1); \n  } \n}); \n \nFlowRouter.route('/player2', { \n  action: function() { \n    Session.set('player', 2); \n  } \n}); \n"]}}]