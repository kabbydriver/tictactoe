{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"var Table = new Mongo.Collection(\"table\");\nvar Counter = new Mongo.Collection(\"counter\");\n\nif (Meteor.isClient) {\n   // counter starts at 0\n   Session.setDefault('counter', 0);\n\n   Template.board.helpers({\n      rows: function () {\n         console.log(\"Calling Rows\");\n         return Table.find({});\n      }\n   });\n\n   Template.row.helpers({\n      columns: function (parentContext) {\n         return this.cols;\n      }\n   });\n\n   Template.cell.onCreated(function () {\n      this.images = [\"\", \"http://www.afterglowdirect.com/media/catalog/product/cache/1/image/800x600/040ec09b1e35df139433887a97daa66f/r/r/rrxxb2vlppy_6.jpg\", \"https://upload.wikimedia.org/wikipedia/en/thumb/5/52/Map-circle-red.svg/1024px-Map-circle-red.svg.png\"];\n   });\n\n   Template.row.events({\n      'click td': function (event, template) {\n         console.log(\"Clicked: \" + template.data.row + \", \" + this.col);\n         var row = Table.findOne(template.data._id);\n         var cols = row.cols;\n\n         var mark = cols[this.col - 1].playerMark;\n         mark = (mark + 1) % 3;\n         cols[this.col - 1].playerMark;\n         Table.update(template.data._id, { $set: { cols: cols } });\n      }\n   });\n\n   Template.cell.helpers({\n      getImage: function () {\n         if (this.playerMark == 0) {\n            return '';\n         } else if (this.playerMark == 1) {\n            return 'X';\n         } else {\n            return 'O';\n         }\n      }\n   });\n\n   Template.reset.events({\n      'click button': function () {\n         var countDoc = Counter.findOne({});\n         console.log(\"Reset Clicked\");\n         Table.find({}).forEach(function (doc) {\n            var cols = doc.cols;\n            console.log(cols);\n            cols.forEach(function (cell) {\n               cell.playerMark = 0;\n               Table.update(doc._id, { $set: { cols: cols } });\n            });\n         });\n      }\n   });\n}\n\nif (Meteor.isServer) {\n   Meteor.startup(function () {\n      // code to run on server at startup\n   });\n}","ast":null,"map":{"version":3,"sources":["/tictactoe.js"],"names":[],"mappings":"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","file":"/tictactoe.js.map","sourcesContent":["var Table = new Mongo.Collection(\"table\");\nvar Counter = new Mongo.Collection(\"counter\");\n\nif (Meteor.isClient) {\n  // counter starts at 0\n  Session.setDefault('counter', 0);\n\n\n  Template.board.helpers({\n  \trows: function() {\n  \t\tconsole.log(\"Calling Rows\");\n  \t\treturn Table.find({});\t\t\t\n  \t}\n  });\n\n  Template.row.helpers({\n  \tcolumns: function(parentContext) {\n  \t\treturn this.cols;\n  \t}\n  });\n\n\n  Template.cell.onCreated(function() {\n  \tthis.images = [\"\", \n  \t\t\t\t   \"http://www.afterglowdirect.com/media/catalog/product/cache/1/image/800x600/040ec09b1e35df139433887a97daa66f/r/r/rrxxb2vlppy_6.jpg\",\n     \t\t\t   \"https://upload.wikimedia.org/wikipedia/en/thumb/5/52/Map-circle-red.svg/1024px-Map-circle-red.svg.png\"\n  \t\t\t\t  ];\n  });\n\n  Template.row.events({\n  \t'click td': function(event, template) {\n  \t\tconsole.log(\"Clicked: \" + template.data.row + \", \" + this.col);\n  \t\tvar row = Table.findOne(template.data._id);\n  \t\tvar cols = row.cols\n\n  \t\tvar mark = cols[this.col-1].playerMark;\n  \t\tmark = (mark+1)%3\n  \t\tcols[this.col-1].playerMark;\n  \t\tTable.update(template.data._id, {$set: {cols: cols}});\n  \t}\n  });\n\n  Template.cell.helpers({\n  \tgetImage: function() {\n  \t\tif (this.playerMark == 0) {\n  \t\t\treturn '';\n  \t\t} else if (this.playerMark == 1) {\n  \t\t\treturn 'X';\n  \t\t} else {\n  \t\t\treturn 'O';\n  \t\t}\n  \t}\n  });\n\n  Template.reset.events({\n  \t'click button': function() {\n  \t\tvar countDoc = Counter.findOne({});\n  \t\tconsole.log(\"Reset Clicked\");\n  \t\tTable.find({}).forEach(function (doc) {\n  \t\t\tvar cols = doc.cols\n  \t\t\tconsole.log(cols);\n  \t\t\tcols.forEach(function(cell) {\n  \t\t\t\tcell.playerMark = 0;\n  \t\t\t\tTable.update(doc._id, {$set: {cols: cols}});\n  \t\t\t});\n  \t\t});\n  \t}\n  });\n}\n\nif (Meteor.isServer) {\n\tMeteor.startup(function () {\n    // code to run on server at startup\n});\n}\n"]},"hash":"3c9b0aac555b10d9fbc65d46ee19457c3f5fcf51"}
